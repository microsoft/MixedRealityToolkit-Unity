<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Scene Understanding | Mixed Reality Toolkit Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Scene Understanding | Mixed Reality Toolkit Documentation ">
    <meta name="generator" content="docfx 2.56.4.0">
    
    <link rel="shortcut icon" href="../.././Documentation/Images/favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-177859076-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-177859076-1');
    </script>
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../.././Documentation/Images/mrt_logo_icon.png" alt="">
              </a>
            </div>
          
          <div class="version-dropdown" id="versionDropdown">
           </div>
         
          <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
          <div class="navbar alert-navbar">
          <div class="container">
              <div class="alert-navbar-message">
                <h5>We've moved!</h5>
                <p>Starting from MRTK 2.6, we are publishing both conceptual docs and API references on docs.microsoft.com. For conceptual docs, please visit <a href="https://docs.microsoft.com/windows/mixed-reality/mrtk-unity/">our new landing page</a>. For API references, please visit <a href="https://docs.microsoft.com/dotnet/api/microsoft.mixedreality.toolkit">the MRTK-Unity section of the dot net API explorer</a>. Existing content will remain here but will not be updated further.</p>
            </div>
          </div>
          </div>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="scene-understanding">Scene Understanding</h1>

<p><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/scene-understanding">Scene Understanding</a> returns a semantic representation of scene entities as well as their geometric forms on <strong>HoloLens 2</strong> (HoloLens 1st Gen is not supported).</p>
<p>Some expected use cases of this technology are:</p>
<ul>
<li>Place objects on nearest surface of a certain kind (e.g. wall and floor)</li>
<li>Construct nav-mesh for platform style games</li>
<li>Provide physics engine friendly geometry as quads</li>
<li>Accelerate development by avoiding the need to write similar algorithms</li>
</ul>
<p>Currently Scene Understanding is available as an <strong>experimental</strong> feature. It is integrated into MRTK as a <a href="SpatialAwarenessGettingStarted.html#register-observers">spatial observer</a> called <a class="xref" href="../../api/Microsoft.MixedReality.Toolkit.WindowsSceneUnderstanding.Experimental.WindowsSceneUnderstandingObserver.html"><code>WindowsSceneUnderstandingObserver</code></a>. Scene Understanding works both with the Legacy XR pipeline and the XR SDK pipeline. In both cases the <code>WindowsSceneUnderstandingObserver</code> is used.</p>
<h2 id="observer-overview">Observer overview</h2>
<p>When asked, the <a class="xref" href="../../api/Microsoft.MixedReality.Toolkit.WindowsSceneUnderstanding.Experimental.WindowsSceneUnderstandingObserver.html"><code>WindowsSceneUnderstandingObserver</code></a> will return <a class="xref" href="../../api/Microsoft.MixedReality.Toolkit.Experimental.SpatialAwareness.SpatialAwarenessSceneObject.html">SpatialAwarenessSceneObject</a> with attributes useful for the application to understand its surroundings. The observation frequency, returned object type (e.g. wall, floor) and other observer behaviors are dependent on the configuration of the observer via profile. For instance, if the occlusion mask is desired the observer must be configured to generate quads. The observed scene can be saved as serialized file that can be later loaded to recreate the scene in editor play mode.</p>
<h2 id="setup">Setup</h2>
<ol>
<li>Ensure the platform is set to UWP in build settings.</li>
<li>Acquire the Scene Understanding package via <a href="https://aka.ms/MRFeatureTool">Mixed Reality Feature Tool</a>. Note the package may not be available at the launch date of MRTK 2.6 but will be available soon after. Please see <a href="https://github.com/microsoft/MixedRealityToolkit-Unity/issues/9402">this issue</a> for updates on its availability.</li>
</ol>
<h2 id="using-scene-understanding">Using Scene Understanding</h2>
<p>The quickest way to get started with Scene Understanding is to check out the sample scene.</p>
<h3 id="scene-understanding-sample-scene">Scene Understanding sample scene</h3>
<p>Open the scene file in <code>Examples/Experimental/SceneUnderstanding/Scenes/SceneUnderstandingExample.unity</code> and press play!</p>
<p>The scene demonstrates the following:</p>
<ul>
<li>Visualization of observed Scene Objects with in application UI for configuring the observer</li>
<li>Example <code>DemoSceneUnderstandingController</code> script that shows how to change observer settings and listen to relevant events</li>
<li>Saving scene data to device for offline development</li>
<li>Loading previously saved scene data (.bytes files) to support in-editor development workflow</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>The sample scene is based on the Legacy XR pipeline. If you are using the XR SDK pipeline you should modify the profiles accordingly. The provided Scene Understanding Spatial Awareness System profile (<code>DemoSceneUnderstandingSystemProfile</code>) and the Scene Understanding Observer profiles (<code>DefaultSceneUnderstandingObserverProfile</code> and <code>DemoSceneUnderstandingObserverProfile</code>) works for both pipelines.</p>
</div>
<h4 id="configuring-the-observer-service">Configuring the observer service</h4>
<p>Select the 'MixedRealityToolkit' game object and check the inspector.</p>
<p><img src="../Images/SceneUnderstanding/MRTKHierarchy.png" alt="scene understanding location in heirarchy"></p>
<p><img src="../Images/SceneUnderstanding/MRTKLocation.png" alt="mrkt location in inspector"></p>
<p>These options will allow one to configure the <code>WindowsSceneUnderstandingObserver</code>.</p>
<h3 id="example-script">Example script</h3>
<p>The example script <em>DemoSceneUnderstandingController.cs</em> demonstrates the major concepts in working with the Scene Understanding service.</p>
<ul>
<li>Subscribing to Scene Understanding events</li>
<li>Handling Scene Understanding events</li>
<li>Configuring the <code>WindowsSceneUnderstandingObserver</code> at runtime</li>
</ul>
<p>The toggles on the panel in the scene change the behavior of scene understanding observer by calling public functions of this sample script.</p>
<p>Turning on <em>Instantiate Prefabs</em>, will demonstrate creating objects that size to fit themselves to all <a class="xref" href="../../api/Microsoft.MixedReality.Toolkit.Experimental.SpatialAwareness.SpatialAwarenessSceneObject.html">SpatialAwarenessSceneObject</a>, gathered neatly under a parent object.</p>
<p><img src="../Images/SceneUnderstanding/Controller.png" alt="demo controller options"></p>
<h3 id="built-app-notes">Built app notes</h3>
<p>Build and deploy to HoloLens in the standard way. Once running, a number of buttons should appear to play with the features.</p>
<p>Note, their are some pit falls in making queries to the observer. Misconfiguration of a fetch request result in your event payload not containing the expected data. For example, if one dosen't request quads, then no occlusion mask textures will be present. Like wise, no world mesh will appear if the observer is not configured to request meshes. The <code>DemoSceneUnderstandingController</code> script takes care of some of these dependencies, but not all.</p>
<p>Saved scene files can be accessed through the <a href="https://docs.microsoft.com/en-us/windows/mixed-reality/using-the-windows-device-portal">device portal</a> at <code>User Folders/LocalAppData/[APP_NAME]/LocalState/PREFIX_yyyyMMdd_hhmmss.bytes</code>. These scene files can be used in editor by specifying them in the observer profile found in the inspector.</p>
<p><img src="../Images/SceneUnderstanding/BytesInDevicePortal.png" alt="Device Portal location of bytes file"></p>
<p><img src="../Images/SceneUnderstanding/BytesLocationInObserver.png" alt="Serialized scene bytes in observer"></p>
<h2 id="see-also">See Also</h2>
<ul>
<li><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/scene-understanding">https://docs.microsoft.com/en-us/windows/mixed-reality/scene-understanding</a></li>
<li><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/scene-understanding-sdk">https://docs.microsoft.com/en-us/windows/mixed-reality/scene-understanding-sdk</a></li>
</ul>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Microsoft/MixedRealityToolkit-Unity/blob/mrtk_development/Documentation/SpatialAwareness/SceneUnderstanding.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
