# フレームワークとランタイム

## シーンへの変更

ツールキットを使うためには、MixedRealityToolkit スクリプトのインスタンスがシーンに存在しなければなりません。
追加するには、メニューの [Mixed Reality Toolkit] -> [Add to Scene and Configure] オプションをお使いください。
このインスタンスは、サービスの登録、更新、破棄を担当しています。
設定プロファイルを選択する場所でもあります。

このメニュー オプションは、シーンに MRTK ゲームオブジェクトを追加するだけでなく、以下のことも行います。

- MixedRealityPlayspace を追加する。
これは、多くのほかの MRTK コンポーネントが、ワールド空間とローカル空間の変換を処理するために利用されます。
- メイン カメラを MixedRealityPlayspace の子になるよう移動させます。
（そして、いくつかのインプットやゲイズに関するスクリプトをメイン カメラに追加します。
このスクリプトは、UnityUI やゲイズ関連のインプット機能を手助けします。）

## MixedRealityToolkit オブジェクトとランタイム

MRTK には、いくつかのコア サービスがあります。お互いに関連しているものもあれば、独立しているものもあります。
すべてのサービスは同じライフ サイクル（スタートアップ、登録、アップデート、破棄）を共有しており、このライフ サイクルは Unity の MonoBehavior のライフ サイクルからは独立しています。
この [Medium の記事](https://medium.com/@stephen_hodgson/the-mixed-reality-framework-6fdb5c11feb2) で、このアプローチの裏にある背景や動機のいくつかが説明されています。
MRTK は、そのサービスの存続とランタイムを管理する、単一のオブジェクトを持っています。

このオブジェクトは、以下のことを保証しています。
- ゲームが開始したときに、事前に定義された順番でサービスの検出と初期化が行われること。
- サービスが自身を登録し（「自分はこのサービスをサポートしています！」）、他の呼び出し元がそれらのサービスを見つけるメカニズムを提供していること。
- Update() や LateUpdate() の呼び出しを提供し、それらを様々なサービスにフォワードすること　(UpdateAllServices や LateUpdateAllServices を通じて）。
