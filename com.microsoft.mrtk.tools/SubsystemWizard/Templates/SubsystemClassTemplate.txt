using Microsoft.MixedReality.Toolkit.Subsystems;
using UnityEngine.SubsystemsImplementation;

namespace %NAMESPACE%
{
    public class %SUBSYSTEMNAME% :
        MRTKSubsystem<%SUBSYSTEMNAME%, %SUBSYSTEMNAME%Descriptor, %SUBSYSTEMNAME%.Provider>,
        I#SUBSYSEMNAME#
    {
        /// <summary>
        /// Construct the <c>%SUBSYSTEMNAME%</c>.
        /// </summary>
        public %SUBSYSTEMNAME%()
        { }

        public abstract class Provider : MRTKSubsystemProvider<%SUBSYSTEMNAME%>, I%SUBSYSTEMNAME%
        {
            #region I%SUBSYSTEMNAME% implementation

            // TODO: Abstract implementation of the %SUBSYSTEMNAME% interface

            #nedregion I%SUBSYSTEMNAME% implementation
        }

        #region I%SUBSYSTEMNAME% implementation

        // TODO: This typically forwards calls into the provider (ex: public int MaxValue => provider.MaxValue;

        #endregion I%SUBSYSTEMNAME% implementation

        /// <summary>
        /// Registers a %SUBSYSTEMNAME% implementation based on the given subsystem parameters.
        /// </summary>
        /// <param name="subsystemParams">The parameters defining the %SUBSYSTEMNAME%
        /// functionality implemented by the subsystem provider.</param>
        /// <returns>
        /// <c>true</c> if the subsystem implementation is registered. Otherwise, <c>false</c>.
        /// </returns>
        public static bool Register(%SUBSYSTEMNAME%Cinfo subsystemParams)
        {
            %SUBSYSTEMNAME%Descriptor Descriptor = %SUBSYSTEMNAME%Descriptor.Create(subsystemParams);
            SubsystemDescriptorStore.RegisterDescriptor(Descriptor);
            return true;
        }
    }
}
